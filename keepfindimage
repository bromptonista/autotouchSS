-- the function required by keepFindingImage must be like "function(locations)", 
-- then you can use the locations inside that function.

local f1 = function(locations)
    local start = tap(45,450)
    local value = 0
    for i, v in pairs(locations) do
        tap (45, 450);
        value = value + 1
    end
end

local exit = true;
keepFindingImage("start.png", 1, 1, nil, nil, f1, 1000, exit);

if value >= 2 then
exit = true
end

-- ATTENTION: execute f2 will return a new function accepts the locations table which is the function will be execute in keepFindingImage
-- That's different with f1, the merit of f2 is that you can pass some extra parameters to the function(locations). 
local f2 = function(extraDescription)
    for i, v in pairs(extraDescription) do
        tap (138, 555);
    end
end

local exit = false;
keepFindingImage("playagain.png", 1, 0.9, nil, nil, f2, 1000, exit);

-- after some while, in some special status, make exit flag to true to stop the keepFindingImage executing.
exit = true;
